<form name="UserCashboxForm" bh-submit="UsersCashBoxModalCtrl.submit(UserCashboxForm)" novalidate>
  <div class="modal-header">
    <ol class="headercrumb">
      <li class="static" translate>USERS.UPDATING_USER</li>
      <li class="title" translate>USERS.SET_CASHBOX</li>
    </ol>
  </div>

  <div class="modal-body" style="overflow-y: scroll; max-height:80vh; ">
    <label class="control-label" translate>FORM.LABELS.USERNAME</label>
    <p class="form-control-static"> {{ UsersCashBoxModalCtrl.user.display_name }}</p>

    <span translate> FORM.INFO.USER_CASHBOX </span>

    <div ng-if="!UsersCashBoxModalCtrl.loading">
      <bh-checkbox-tree
        data="UsersCashBoxModalCtrl.cashboxes"
        on-change="UsersCashBoxModalCtrl.onChangeSelection(data)"
        checked-ids="UsersCashBoxModalCtrl.selected"
        is-flat-tree="true"
        labelKey="label">
      </bh-checkbox-tree>
    </div>
    <div ng-if="UsersCashBoxModalCtrl.loading">
      <loading-indicator></loading-indicator>
    </div>
  </div>

  <div class="modal-footer">
    <button id="user-cancel" type="button" class="btn btn-default" ui-sref="users.list">
      <span translate>FORM.BUTTONS.CANCEL</span>
    </button>

    <bh-loading-button loading-state="UserCashboxForm.$loading">
      <span translate>FORM.BUTTONS.SUBMIT</span>
    </bh-loading-button>
  </div>
</form>
